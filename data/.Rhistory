## read in data
foliar = read.csv('raw/pitchpine_mdi_foliar_final.csv')[1:46, 1:8]
foliar
## read in data
foliar = read.csv('raw/pitchpine_mdi_foliar_final.csv')[1:45, 1:8]
foliar
biophysical = read.csv('raw/pitchpine_mdi_biophysical.csv', skip = 1)[1:39, 1:6]
biophysical
biophysical = read.csv('raw/pitchpine_mdi_biophysical.csv', skip = 1)[1:39, c(1:2, 4:6)]
biophysical
isotope = read.csv('raw/pitchpine_mdi_isotope.csv')[1:41, 1:6]
retention = read.csv('raw/pitchpine_mdi_moistretent.csv', skip = 1)[1:41, c(1, 2, 7)]
retention
colnames(retention) = c('ID', 'Name', 'retention')
retention
soil = read.csv('raw/pitchpine_mdi_soil.csv')[1:32, 1:12]
soil
library(dplyr)
## combine data
foliar_biophysical = full_join(foliar, biophysical, by = c(ID, Name))
foliar
## combine data
foliar_biophysical = full_join(foliar, biophysical, by = c('ID', 'Name'))
foliar_biophysical
foliar = read.csv('raw/pitchpine_mdi_foliar_final.csv')[1:45, 1:8]
colnames(foliar) = c('ID', 'Name', 'Ca_foliar', 'P_foliar',
'K_foliar', 'Mg_foliar', 'Al_foliar', 'Zn_foliar')
soil
colnames(soil) = c('ID', 'Name', 'Ca_soil', 'P_soil', 'K_soil', 'Mg_soil', 'Al_soil', 'Zn_soil',
'pH', 'CEC', 'C_soil', 'N_soil')
isotope
colnames(isotope) = c('ID', 'Name', 'd13C', 'd15N', 'C_foliar', 'N_foliar')
as.numeric(retention$retention)
retention$retention
as.numeric(as.character(retention$retention))
as.numeric(gsub("[\\%,]", "", retention$retention))
retention$retention = as.numeric(gsub("[\\%,]", "", retention$retention))
retention
## combine data
biophysical_isotope = full_join(biophysical, isotope, by = c('ID', 'Name'))
biophysical_isotope
biophysical_isotope_foliar = full_join(biophysical_isotope, foliar, by = c('ID', 'Name'))
biophysical_isotope_foliar
biophysical_isotope = full_join(biophysical, isotope, by = c('ID', 'Name'))
biophysical_isotope_foliar = full_join(biophysical_isotope, foliar, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil = full_join(biophysical_isotope_foliar, soil, by = c('ID', 'Name'))
mdi_all = full_join(biophysical_isotope_foliar_soil, retention, by = c('ID', 'Name'))
mdi_all
write.csv(mdi_all, 'mdi_all_clean.csv')
mdi_all_sorted = sort(mdi_all, by = c('ID', 'Name'))
mdi_all_sorted = order(mdi_all, by = c('ID', 'Name'))
?sort
?arrange
library(dplyr)
## read in data
foliar = read.csv('raw/pitchpine_mdi_foliar_final.csv')[1:45, 1:8]
colnames(foliar) = c('ID', 'Name', 'Ca_foliar', 'P_foliar',
'K_foliar', 'Mg_foliar', 'Al_foliar', 'Zn_foliar')
biophysical = read.csv('raw/pitchpine_mdi_biophysical.csv', skip = 1)[1:39, c(1:2, 4:6)]
isotope = read.csv('raw/pitchpine_mdi_isotope.csv')[1:41, 1:6]
colnames(isotope) = c('ID', 'Name', 'd13C', 'd15N', 'C_foliar', 'N_foliar')
retention = read.csv('raw/pitchpine_mdi_moistretent.csv', skip = 1)[1:41, c(1, 2, 7)]
colnames(retention) = c('ID', 'Name', 'retention')
retention$retention = as.numeric(gsub("[\\%,]", "", retention$retention))
soil = read.csv('raw/pitchpine_mdi_soil.csv')[1:32, 1:12]
colnames(soil) = c('ID', 'Name', 'Ca_soil', 'P_soil', 'K_soil', 'Mg_soil', 'Al_soil', 'Zn_soil',
'pH', 'CEC', 'C_soil', 'N_soil')
## combine data
biophysical_isotope = full_join(biophysical, isotope, by = c('ID', 'Name'))
biophysical_isotope_foliar = full_join(biophysical_isotope, foliar, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil = full_join(biophysical_isotope_foliar, soil, by = c('ID', 'Name'))
mdi_all = full_join(biophysical_isotope_foliar_soil, retention, by = c('ID', 'Name'))
mdi_all_sorted = arrange(mdi_all, ID, Name)
mdi_all_sorted
mdi_all_sorted = arrange(mdi_all, Name, ID)
mdi_all_sorted
write.csv(mdi_all_sorted, 'mdi_all_clean.csv')
# script to clean the mdi pitch pine data (and combine as possible)
library(dplyr)
## read in data
foliar = read.csv('raw/pitchpine_mdi_foliar_final.csv')[1:45, 1:8]
colnames(foliar) = c('ID', 'Name', 'Ca_foliar', 'P_foliar',
'K_foliar', 'Mg_foliar', 'Al_foliar', 'Zn_foliar')
biophysical = read.csv('raw/pitchpine_mdi_biophysical.csv', skip = 1)[1:39, c(1:2, 4:6)]
isotope = read.csv('raw/pitchpine_mdi_isotope.csv')[1:41, 1:6]
colnames(isotope) = c('ID', 'Name', 'd13C', 'd15N', 'C_foliar', 'N_foliar')
retention = read.csv('raw/pitchpine_mdi_moistretent.csv', skip = 1)[1:41, c(1, 2, 7)]
colnames(retention) = c('ID', 'Name', 'retention')
retention$retention = as.numeric(gsub("[\\%,]", "", retention$retention))
soil = read.csv('raw/pitchpine_mdi_soil.csv')[1:32, 1:12]
colnames(soil) = c('ID', 'Name', 'Ca_soil', 'P_soil', 'K_soil', 'Mg_soil', 'Al_soil', 'Zn_soil',
'pH', 'CEC', 'C_soil', 'N_soil')
## combine data
biophysical_isotope = full_join(biophysical, isotope, by = c('ID', 'Name'))
biophysical_isotope_foliar = full_join(biophysical_isotope, foliar, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil = full_join(biophysical_isotope_foliar, soil, by = c('ID', 'Name'))
mdi_all = full_join(biophysical_isotope_foliar_soil, retention, by = c('ID', 'Name'))
head(mdi_all)
geo = read.csv('raw/MDITreeGeoRasterData05152020.csv')
paste(geo$ID1, '-', geo$Name)
geo$ID[geo$Name == 'CAD'] = paste(geo$ID1, '-', geo$Name, '-HIGHELEV-DIST', sep = '')
geo$ID[geo$Name == 'CAD'] = paste(geo$ID1[geo$Name == 'CAD'], '-',
geo$Name[geo$Name == 'CAD'], '-HIGHELEV-DIST',
sep = '')
paste(geo$ID1[geo$Name == 'CAD'], '-',
geo$Name[geo$Name == 'CAD'], '-HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'CAD']
geo$ID = NA
geo$ID[geo$Name == 'CAD'] = paste(geo$ID1[geo$Name == 'CAD'], '-',
geo$Name[geo$Name == 'CAD'], '-HIGHELEV-DIST',
sep = '')
geo$ID
geo$ID = NA
geo$ID[geo$Name == 'CAD'] = paste(geo$ID1[geo$Name == 'CAD'], '-', '-HIGHELEV-DIST',
sep = '')
geo$ID
geo$ID[geo$Name == 'CAD'] = paste(geo$ID1[geo$Name == 'CAD'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID
geo$ID[geo$Name == 'STSAUV'] = paste(geo$ID1[geo$Name == 'STSAUV'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'CADCLIFFS'] = paste(geo$ID1[geo$Name == 'CADCLIFFS'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'WOND'] = paste(geo$ID1[geo$Name == 'WOND'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID
c(geo$ID, geo$Name)
geo$Name
foliar = read.csv('raw/pitchpine_mdi_foliar_final.csv')[1:45, 1:8]
colnames(foliar) = c('ID', 'Name', 'Ca_foliar', 'P_foliar',
'K_foliar', 'Mg_foliar', 'Al_foliar', 'Zn_foliar')
biophysical = read.csv('raw/pitchpine_mdi_biophysical.csv', skip = 1)[1:39, c(1:2, 4:6)]
isotope = read.csv('raw/pitchpine_mdi_isotope.csv')[1:41, 1:6]
colnames(isotope) = c('ID', 'Name', 'd13C', 'd15N', 'C_foliar', 'N_foliar')
retention = read.csv('raw/pitchpine_mdi_moistretent.csv', skip = 1)[1:41, c(1, 2, 7)]
colnames(retention) = c('ID', 'Name', 'retention')
retention$retention = as.numeric(gsub("[\\%,]", "", retention$retention))
soil = read.csv('raw/pitchpine_mdi_soil.csv')[1:32, 1:12]
colnames(soil) = c('ID', 'Name', 'Ca_soil', 'P_soil', 'K_soil', 'Mg_soil', 'Al_soil', 'Zn_soil',
'pH', 'CEC', 'C_soil', 'N_soil')
geo = read.csv('raw/MDITreeGeoRasterData05152020.csv')
geo$ID = NA
geo$ID[geo$Name == 'CAD'] = paste(geo$ID1[geo$Name == 'CAD'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'STSAUV'] = paste(geo$ID1[geo$Name == 'STSAUV'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'CADCLIFFS'] = paste(geo$ID1[geo$Name == 'CADCLIFFS'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'WOND'] = paste(geo$ID1[geo$Name == 'WOND'], '-', 'HIGHELEV-DIST',
sep = '')
## combine data
biophysical_isotope = full_join(biophysical, isotope, by = c('ID', 'Name'))
biophysical_isotope_foliar = full_join(biophysical_isotope, foliar, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil = full_join(biophysical_isotope_foliar, soil, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil_geo = full_join(biophysical_isotope_foliar_soil, geo, by = c('ID', 'Name'))
mdi_all = full_join(biophysical_isotope_foliar_soil, retention, by = c('ID', 'Name'))
mdi_all = full_join(biophysical_isotope_foliar_soil_geo, retention, by = c('ID', 'Name'))
head(mdi_all)
mdi_all
nrow(mdi_all)
geo = read.csv('raw/MDITreeGeoRasterData05152020.csv')
geo$ID = NA
geo$ID[geo$Name == 'CAD'] = paste(geo$ID1[geo$Name == 'CAD'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'STSAUV'] = paste(geo$ID1[geo$Name == 'STSAUV'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'CADCLIFFS'] = paste(geo$ID1[geo$Name == 'CADCLIFFS'], '-', 'LOWELEV-DIST',
sep = '')
geo$ID[geo$Name == 'WOND'] = paste(geo$ID1[geo$Name == 'WOND'], '-', 'LOWELEV-DIST',
sep = '')
## combine data
biophysical_isotope = full_join(biophysical, isotope, by = c('ID', 'Name'))
biophysical_isotope_foliar = full_join(biophysical_isotope, foliar, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil = full_join(biophysical_isotope_foliar, soil, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil_geo = full_join(biophysical_isotope_foliar_soil, geo, by = c('ID', 'Name'))
mdi_all = full_join(biophysical_isotope_foliar_soil_geo, retention, by = c('ID', 'Name'))
mdi_all
mdi_all$ID
geo$ID
## combine data
biophysical_isotope = full_join(biophysical, isotope, by = c('ID', 'Name'))
biophysical_isotope_foliar = full_join(biophysical_isotope, foliar, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil = full_join(biophysical_isotope_foliar, soil, by = c('ID', 'Name'))
foliar = read.csv('raw/pitchpine_mdi_foliar_final.csv')[1:45, 1:8]
colnames(foliar) = c('ID', 'Name', 'Ca_foliar', 'P_foliar',
'K_foliar', 'Mg_foliar', 'Al_foliar', 'Zn_foliar')
biophysical = read.csv('raw/pitchpine_mdi_biophysical.csv', skip = 1)[1:39, c(1:2, 4:6)]
isotope = read.csv('raw/pitchpine_mdi_isotope.csv')[1:41, 1:6]
colnames(isotope) = c('ID', 'Name', 'd13C', 'd15N', 'C_foliar', 'N_foliar')
retention = read.csv('raw/pitchpine_mdi_moistretent.csv', skip = 1)[1:41, c(1, 2, 7)]
colnames(retention) = c('ID', 'Name', 'retention')
retention$retention = as.numeric(gsub("[\\%,]", "", retention$retention))
soil = read.csv('raw/pitchpine_mdi_soil.csv')[1:32, 1:12]
colnames(soil) = c('ID', 'Name', 'Ca_soil', 'P_soil', 'K_soil', 'Mg_soil', 'Al_soil', 'Zn_soil',
'pH', 'CEC', 'C_soil', 'N_soil')
geo = read.csv('raw/MDITreeGeoRasterData05152020.csv')
geo$ID = NA
geo$ID[geo$Name == 'CAD'] = paste(geo$ID1[geo$Name == 'CAD'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'STSAUV'] = paste(geo$ID1[geo$Name == 'STSAUV'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'CADCLIFFS'] = paste(geo$ID1[geo$Name == 'CADCLIFFS'], '-', 'LOWELEV-DIST',
sep = '')
geo$ID[geo$Name == 'WOND'] = paste(geo$ID1[geo$Name == 'WOND'], '-', 'LOWELEV-DIST',
sep = '')
biophysical_isotope = full_join(biophysical, isotope, by = c('ID', 'Name'))
biophysical_isotope_foliar = full_join(biophysical_isotope, foliar, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil = full_join(biophysical_isotope_foliar, soil, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil_geo = full_join(biophysical_isotope_foliar_soil, geo, by = c('ID', 'Name'))
mdi_all = full_join(biophysical_isotope_foliar_soil_geo, retention, by = c('ID', 'Name'))
mdi_all$ID
mdi_all[41:45,]
tail(biophysical_isotope)
tail(foliar)
## read in data
foliar = read.csv('raw/pitchpine_mdi_foliar_final.csv')[, 1:8]
colnames(foliar) = c('ID', 'Name', 'Ca_foliar', 'P_foliar',
'K_foliar', 'Mg_foliar', 'Al_foliar', 'Zn_foliar')
tail(biophysical)
biophysical = read.csv('raw/pitchpine_mdi_biophysical.csv', skip = 1)[, c(1:2, 4:6)]
tail(biophysical)
tail(isotope)
isotope = read.csv('raw/pitchpine_mdi_isotope.csv')[, 1:6]
tail(isotope)
tail(retention)
retention = read.csv('raw/pitchpine_mdi_moistretent.csv', skip = 1)[, c(1, 2, 7)]
tail(soil)
foliar = read.csv('raw/pitchpine_mdi_foliar_final.csv')[, 1:8]
colnames(foliar) = c('ID', 'Name', 'Ca_foliar', 'P_foliar',
'K_foliar', 'Mg_foliar', 'Al_foliar', 'Zn_foliar')
biophysical = read.csv('raw/pitchpine_mdi_biophysical.csv', skip = 1)[, c(1:2, 4:6)]
isotope = read.csv('raw/pitchpine_mdi_isotope.csv')[, 1:6]
colnames(isotope) = c('ID', 'Name', 'd13C', 'd15N', 'C_foliar', 'N_foliar')
retention = read.csv('raw/pitchpine_mdi_moistretent.csv', skip = 1)[, c(1, 2, 7)]
colnames(retention) = c('ID', 'Name', 'retention')
retention$retention = as.numeric(gsub("[\\%,]", "", retention$retention))
soil = read.csv('raw/pitchpine_mdi_soil.csv')[, 1:12]
colnames(soil) = c('ID', 'Name', 'Ca_soil', 'P_soil', 'K_soil', 'Mg_soil', 'Al_soil', 'Zn_soil',
'pH', 'CEC', 'C_soil', 'N_soil')
geo = read.csv('raw/MDITreeGeoRasterData05152020.csv')
geo$ID = NA
geo$ID[geo$Name == 'CAD'] = paste(geo$ID1[geo$Name == 'CAD'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'STSAUV'] = paste(geo$ID1[geo$Name == 'STSAUV'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'CADCLIFFS'] = paste(geo$ID1[geo$Name == 'CADCLIFFS'], '-', 'LOWELEV-DIST',
sep = '')
geo$ID[geo$Name == 'WOND'] = paste(geo$ID1[geo$Name == 'WOND'], '-', 'LOWELEV-DIST',
sep = '')
## combine data
biophysical_isotope = full_join(biophysical, isotope, by = c('ID', 'Name'))
biophysical_isotope_foliar = full_join(biophysical_isotope, foliar, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil = full_join(biophysical_isotope_foliar, soil, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil_geo = full_join(biophysical_isotope_foliar_soil, geo, by = c('ID', 'Name'))
mdi_all = full_join(biophysical_isotope_foliar_soil_geo, retention, by = c('ID', 'Name'))
tail(mdi_all)
write.csv(mdi_all, 'mdi_all_clean.csv')
# script to clean the mdi pitch pine data (and combine as possible)
library(dplyr)
## read in data
foliar = read.csv('raw/pitchpine_mdi_foliar_final.csv')[, 1:8]
colnames(foliar) = c('ID', 'Name', 'Ca_foliar', 'P_foliar',
'K_foliar', 'Mg_foliar', 'Al_foliar', 'Zn_foliar')
biophysical = read.csv('raw/pitchpine_mdi_biophysical.csv', skip = 1)[, c(1:2, 4:6)]
isotope = read.csv('raw/pitchpine_mdi_isotope.csv')[, 1:6]
colnames(isotope) = c('ID', 'Name', 'd13C', 'd15N', 'C_foliar', 'N_foliar')
retention = read.csv('raw/pitchpine_mdi_moistretent.csv', skip = 1)[, c(1, 2, 7)]
colnames(retention) = c('ID', 'Name', 'retention')
retention$retention = as.numeric(gsub("[\\%,]", "", retention$retention))
soil = read.csv('raw/pitchpine_mdi_soil.csv')[, 1:12]
colnames(soil) = c('ID', 'Name', 'Ca_soil', 'P_soil', 'K_soil', 'Mg_soil', 'Al_soil', 'Zn_soil',
'pH', 'CEC', 'C_soil', 'N_soil')
geo = read.csv('raw/MDITreeGeoRasterData05152020.csv')
geo$ID = NA
geo$ID[geo$Name == 'CAD'] = paste(geo$ID1[geo$Name == 'CAD'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'STSAUV'] = paste(geo$ID1[geo$Name == 'STSAUV'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'CADCLIFFS'] = paste(geo$ID1[geo$Name == 'CADCLIFFS'], '-', 'LOWELEV-DIST',
sep = '')
geo$ID[geo$Name == 'WOND'] = paste(geo$ID1[geo$Name == 'WOND'], '-', 'LOWELEV-DIST',
sep = '')
## combine data
biophysical_isotope = full_join(biophysical, isotope, by = c('ID', 'Name'))
biophysical_isotope_foliar = full_join(biophysical_isotope, foliar, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil = full_join(biophysical_isotope_foliar, soil, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil_geo = full_join(biophysical_isotope_foliar_soil, geo, by = c('ID', 'Name'))
mdi_all = full_join(biophysical_isotope_foliar_soil_geo, retention, by = c('ID', 'Name'))
write.csv(mdi_all, 'mdi_all_clean.csv')
?write.csv
write.csv(mdi_all, 'mdi_all_clean.csv', row.names = F)
library(dplyr)
## read in data
foliar = read.csv('raw/pitchpine_mdi_foliar_final.csv')[, 1:8]
colnames(foliar) = c('ID', 'Name', 'Ca_foliar', 'P_foliar',
'K_foliar', 'Mg_foliar', 'Al_foliar', 'Zn_foliar')
biophysical = read.csv('raw/pitchpine_mdi_biophysical.csv', skip = 1)[, c(1:2, 4:6)]
isotope = read.csv('raw/pitchpine_mdi_isotope.csv')[, 1:6]
colnames(isotope) = c('ID', 'Name', 'd13C', 'd15N', 'C_foliar', 'N_foliar')
retention = read.csv('raw/pitchpine_mdi_moistretent.csv', skip = 1)[, c(1, 2, 7)]
colnames(retention) = c('ID', 'Name', 'retention')
retention$retention = as.numeric(gsub("[\\%,]", "", retention$retention))
soil = read.csv('raw/pitchpine_mdi_soil.csv')[, 1:12]
colnames(soil) = c('ID', 'Name', 'Ca_soil', 'P_soil', 'K_soil', 'Mg_soil', 'Al_soil', 'Zn_soil',
'pH', 'CEC', 'C_soil', 'N_soil')
geo = read.csv('raw/MDITreeGeoRasterData05152020.csv')
geo$ID = NA
geo$ID[geo$Name == 'CAD'] = paste(geo$ID1[geo$Name == 'CAD'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'STSAUV'] = paste(geo$ID1[geo$Name == 'STSAUV'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'CADCLIFFS'] = paste(geo$ID1[geo$Name == 'CADCLIFFS'], '-', 'LOWELEV-DIST',
sep = '')
geo$ID[geo$Name == 'WOND'] = paste(geo$ID1[geo$Name == 'WOND'], '-', 'LOWELEV-DIST',
sep = '')
## combine data
biophysical_isotope = full_join(biophysical, isotope, by = c('ID', 'Name'))
biophysical_isotope
biophysical_isotope_foliar = full_join(biophysical_isotope, foliar, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil = full_join(biophysical_isotope_foliar, soil, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil_geo = full_join(biophysical_isotope_foliar_soil, geo, by = c('ID', 'Name'))
mdi_all = full_join(biophysical_isotope_foliar_soil_geo, retention, by = c('ID', 'Name'))
mdi_all
tail(mdi_all)
write.csv(mdi_all, 'mdi_all_clean.csv', row.names = F)
# script to clean the mdi pitch pine data (and combine as possible)
library(dplyr)
## read in data
foliar = read.csv('raw/pitchpine_mdi_foliar_final.csv')[, 1:8]
colnames(foliar) = c('ID', 'Name', 'Ca_foliar', 'P_foliar',
'K_foliar', 'Mg_foliar', 'Al_foliar', 'Zn_foliar')
biophysical = read.csv('raw/pitchpine_mdi_biophysical.csv', skip = 1)[, c(1:2, 4:6)]
isotope = read.csv('raw/pitchpine_mdi_isotope.csv')[, 1:6]
colnames(isotope) = c('ID', 'Name', 'd13C', 'd15N', 'C_foliar', 'N_foliar')
retention = read.csv('raw/pitchpine_mdi_moistretent.csv', skip = 1)[, c(1, 2, 7)]
colnames(retention) = c('ID', 'Name', 'retention')
retention$retention = as.numeric(gsub("[\\%,]", "", retention$retention))
soil = read.csv('raw/pitchpine_mdi_soil.csv')[, 1:12]
colnames(soil) = c('ID', 'Name', 'Ca_soil', 'P_soil', 'K_soil', 'Mg_soil', 'Al_soil', 'Zn_soil',
'pH', 'CEC', 'C_soil', 'N_soil')
geo = read.csv('raw/MDITreeGeoRasterData05152020.csv')
geo$ID = NA
geo$ID[geo$Name == 'CAD'] = paste(geo$ID1[geo$Name == 'CAD'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'STSAUV'] = paste(geo$ID1[geo$Name == 'STSAUV'], '-', 'HIGHELEV-DIST',
sep = '')
geo$ID[geo$Name == 'CADCLIFFS'] = paste(geo$ID1[geo$Name == 'CADCLIFFS'], '-', 'LOWELEV-DIST',
sep = '')
geo$ID[geo$Name == 'WOND'] = paste(geo$ID1[geo$Name == 'WOND'], '-', 'LOWELEV-DIST',
sep = '')
## combine data
biophysical_isotope = full_join(biophysical, isotope, by = c('ID', 'Name'))
biophysical_isotope_foliar = full_join(biophysical_isotope, foliar, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil = full_join(biophysical_isotope_foliar, soil, by = c('ID', 'Name'))
biophysical_isotope_foliar_soil_geo = full_join(biophysical_isotope_foliar_soil, geo, by = c('ID', 'Name'))
mdi_all = full_join(biophysical_isotope_foliar_soil_geo, retention, by = c('ID', 'Name'))
write.csv(mdi_all, 'mdi_all_clean.csv', row.names = F)
